<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RentEstate | My Tenants | Owner Portal</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
    rel="stylesheet">


  <link rel="stylesheet" href="stylesheets/my_tenants.css">

</head>

<body>

  <div class="navbar">
    <img src="/images/Logo.svg" alt="Logo">
    <div class="heading">RentEstate</div>
    <div class="tabs">
      <a href="/" class="button">Home</a>
      <a href="/vacancies" class="button">Vacancies</a>
    </div>
    <a href="javascript:void(0);" class="icon" onclick="toggleMenu()">
      ☰
    </a>
  </div>

  <div id="myLinks" class="overlay">
    <a href="javascript:void(0);" class="closebtn" onclick="toggleMenu()">&times;</a>
    <a href="/" class="button">Home</a>
    <a href="/vacancies" class="button">Vacancies</a>
  </div>

  <section class="container">

    <div class="side fit">

      <div class="sidebar">
        <ul class="main_feature">
          <a href="/owner_portal" class="feature">
            <li id="myProfile">My Profile</li>
          </a>
          <a href="/myProperties" class="feature">
            <li>My Properties</li>
          </a>
          <a href="/addproperties" class="feature">
            <li>Add Properties</li>
          </a>
        </ul>
        <h3 class="text">~TENANTS</h3>
        <ul class="main_feature">
          <a href="#" class="feature">
            <li>My Tenants</li>
          </a>
          <a href="/message" target="_blank" class="feature">
            <li>Messages</li>
          </a>
          <a href="/request" target="_blank" class="feature">
            <li>Requests</li>
          </a>
        </ul>
        <h3 class="text">~TOOLS</h3>
        <ul class="main_feature">
          <a href="/rent_estimate" class="feature">
            <li>Rent Estimate</li>
          </a>
          <a href="/rentalIncome" class="feature">
            <li>Rental Income</li>
          </a>
        </ul>
      </div>

      <div id="sidebar_icon">
        <img src="/images/sidebar-icon.png" alt="error" class="icon1">
      </div>

    </div>

    <div class="diff_features">
      <!-- MY PROFILE HTML -->
      <div class="myTenants">

        <% if (!hasTenants) { %>
          <p style="color: black; font-size: 20px; text-align: center; width:100%">YOU DON'T HAVE ANY OF YOUR PROPERTIES RENTED</p>
        <% } %>

        <% properties.forEach(property=> { %>
          <% if (property.tenant) { %>
            <div class="tenant">
              <div class="tenant_content">
                <div class="circle">
                  <% var nameParts=property.tenant.name.split(" ");
  var initials = nameParts[0].charAt(0); // Get the first letter of the first word
  if (nameParts.length > 1) {
    initials += nameParts[1].charAt(0); // Add the first letter of the second word if it exists
  }
%>
<%= initials %>
            </div>

            <div class=" textbox">
                    <h3>Name</h3>
                    <h4>
                      <%= property.tenant.name %>
                    </h4>
                </div>

                <div class="textbox">
                  <h3>Email</h3>
                  <h4>
                    <%= property.tenant.email %>
                  </h4>
                </div>

                <div class="textbox">
                  <h3>Contact</h3>
                  <h4>
                    <%= property.tenant.contact %>
                  </h4>
                </div>

                <div class="textbox">
                  <h3>Rent</h3>
                  <h4>₹<%= property.price %>
                  </h4>
                </div>


                <div class="textbox view">
                  <h3>Property Details</h3>
                  <!-- <button id="view">view</button> -->
                  <a href="/vacancies/<%=property._id%>" target="_blank" class="prop"><button
                      id="view">view</button></a>
                </div>

                <!-- <div class="sendMsg">
              <button>Send Messege</button>
            </div> -->

                <div class="hoverbox">
                </div>
              </div>
            </div>
              <% } %>
          <% }) %>

            <!-- <div class="tenant">  
        <% properties.forEach(property=> { %>
          <% if (property.tenant) { %>
            <div class="tenant_content">
              <p class="textbox"><%= property.tenant.name %></p> 
              <p class="textbox"><%= property.tenant.email %></p>
              <p class="textbox"><%= property.tenant.contact %></p>
              <p class="textbox"><%= property.price %></p>
              <p class="textbox" style="color: black;"><%= property._id %></p>
            </div>
          <% } %>
        <% }) %>
        </div> -->

      </div>


    </div>


  </section>

  <script src="javascripts/my_tenants.js"></script>
</body>

</html>